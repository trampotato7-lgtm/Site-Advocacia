backend:
  name: git-gateway
  branch: main

media_folder: "public/images/uploads"
public_folder: "/images/uploads"

collections:
  # Coleção de artigos (salva .md)
  - name: "posts"
    label: "Artigos"
    folder: "src/content/posts"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - {label: "Título", name: "title", widget: "string"}
      - {label: "Data", name: "date", widget: "datetime"}
      - {label: "Categoria", name: "category", widget: "string", required: false}
      - {label: "Descrição", name: "description", widget: "text", required: false}
      - {label: "Imagem de destaque", name: "image", widget: "image", required: false}
      - {label: "Autor", name: "author", widget: "string", default: "Dr. Carlos Silva"}
      - {label: "Conteúdo", name: "body", widget: "markdown"}

  # Coleção que GERENCIA a lista de posts (posts.json)
  - name: "postsIndex"
    label: "Lista de Artigos"
    files:
      - name: "postsIndexFile"
        label: "Lista de Artigos"
        file: "src/content/posts/posts.json"
        fields:
          - label: "Artigos"
            name: "posts"
            widget: "list"
            summary: "{{fields.slug}}"
            field:
              name: "slug"
              widget: "relation"
              collection: "posts"
              search_fields: ["title", "slug"]
              value_field: "slug"
              display_fields: ["title"]